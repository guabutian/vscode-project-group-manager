# ä¿®å¤å®Œæˆ - æµ‹è¯•æ¸…å•

## âœ… å·²å®Œæˆçš„ä¿®å¤

### 1. è¿œç¨‹ Dev Container é¡¹ç›®æ£€æµ‹
- âœ… ä¿®æ”¹äº† `projectManager.ts` ä¸­çš„é¡¹ç›®æ£€æµ‹é€»è¾‘
- âœ… æ–°å¢ `isDevContainerProject()` æ–¹æ³•è¯†åˆ«è¿œç¨‹ URI
- âœ… æ”¯æŒæ ¼å¼ï¼š`vscode-remote://dev-container+...`

### 2. è¿œç¨‹é¡¹ç›®æ‰“å¼€åŠŸèƒ½
- âœ… ä¿®æ”¹äº† `extension.ts` ä¸­çš„æ‰“å¼€é€»è¾‘
- âœ… ä½¿ç”¨ `vscode.Uri.parse()` è§£æè¿œç¨‹ URI
- âœ… æ”¯æŒç›´æ¥æ‰“å¼€è¿œç¨‹ Dev Container é¡¹ç›®

### 3. ä»£ç ç¼–è¯‘
- âœ… TypeScript ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯
- âœ… ç”Ÿæˆçš„ JavaScript æ–‡ä»¶åœ¨ `out/` ç›®å½•

## ğŸ§ª ç«‹å³æµ‹è¯•

### æ­¥éª¤ 1ï¼šé‡æ–°åŠ è½½æ’ä»¶

**åœ¨ Extension Development Host çª—å£ä¸­**ï¼š
```
æŒ‰ Cmd+R (macOS) æˆ– Ctrl+R (Windows/Linux)
```

**æˆ–è€…åœ¨å¼€å‘çª—å£ä¸­**ï¼š
```
1. åœæ­¢è°ƒè¯•ï¼ˆç‚¹å‡»çº¢è‰²æ–¹å—ï¼‰
2. æŒ‰ F5 é‡æ–°å¯åŠ¨
```

### æ­¥éª¤ 2ï¼šæ£€æŸ¥é¡¹ç›®åˆ—è¡¨

1. ç‚¹å‡»ä¾§è¾¹æ çš„ **Dev Container Groups** å›¾æ ‡ï¼ˆæœåŠ¡å™¨å›¾æ ‡ï¼‰
2. æŸ¥çœ‹ **Projects** è§†å›¾
3. **é¢„æœŸç»“æœ**ï¼šåº”è¯¥çœ‹åˆ° 9 ä¸ªé¡¹ç›®

**é¢„æœŸæ˜¾ç¤ºçš„é¡¹ç›®**ï¼š
```
âœ“ devbox/web/react_demo1
âœ“ devbox/web/hydra
âœ“ devgui/ai/i18n_content_generate
âœ“ devbox/faceu/faceu-common
âœ“ devbox/ai/dreamina_feature
âœ“ de vguinanochat
âœ“ devgui/python/nanochat
âœ“ devbox/ai/dreamina_ddd
âœ“ DevBoxBig/ai/i18n_mweb_api
```

### æ­¥éª¤ 3ï¼šæµ‹è¯•é€‰æ‹©åŠŸèƒ½

1. ç‚¹å‡»ä»»æ„é¡¹ç›®åç§°
2. **é¢„æœŸç»“æœ**ï¼š
   - é¡¹ç›®å‰é¢å‡ºç° âœ“ æ ‡è®°
   - å›¾æ ‡å˜ä¸ºç»¿è‰²å‹¾é€‰å›¾æ ‡
3. å†æ¬¡ç‚¹å‡»
4. **é¢„æœŸç»“æœ**ï¼š
   - âœ“ æ ‡è®°æ¶ˆå¤±
   - å›¾æ ‡å˜å›ç©ºå¿ƒåœ†

### æ­¥éª¤ 4ï¼šæµ‹è¯•ä¿å­˜ç»„

1. é€‰ä¸­ 2-3 ä¸ªé¡¹ç›®ï¼ˆç‚¹å‡»é¡¹ç›®åç§°ï¼‰
2. ç‚¹å‡»å·¥å…·æ çš„ **ğŸ’¾ ä¿å­˜å›¾æ ‡**
3. è¾“å…¥ç»„åï¼Œä¾‹å¦‚ï¼š"test-group"
4. ç‚¹å‡»ç¡®è®¤
5. **é¢„æœŸç»“æœ**ï¼š
   - æ˜¾ç¤ºæˆåŠŸæç¤ºï¼š"ç»„ "test-group" å·²ä¿å­˜ï¼ŒåŒ…å« X ä¸ªé¡¹ç›®"
   - åœ¨ **Saved Groups** è§†å›¾ä¸­çœ‹åˆ°æ–°å»ºçš„ç»„

### æ­¥éª¤ 5ï¼šæµ‹è¯•æ‰“å¼€å•ä¸ªé¡¹ç›®

1. é€‰ä¸­ 1 ä¸ªé¡¹ç›®
2. ç‚¹å‡»å·¥å…·æ çš„ **ğŸ“‚ æ‰“å¼€å›¾æ ‡**
3. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ç‚¹å‡» **"æ˜¯"**
4. **é¢„æœŸç»“æœ**ï¼š
   - æ˜¾ç¤ºè¿›åº¦æ¡ï¼š"æ­£åœ¨æ‰“å¼€ Dev Container é¡¹ç›®"
   - æ‰“å¼€ä¸€ä¸ªæ–°çš„ VS Code çª—å£
   - æ–°çª—å£è¿æ¥åˆ°è¿œç¨‹ Dev Container

### æ­¥éª¤ 6ï¼šæµ‹è¯•æ‰¹é‡æ‰“å¼€

1. é€‰ä¸­ 2-3 ä¸ªé¡¹ç›®
2. ç‚¹å‡»å·¥å…·æ çš„ **ğŸ“‚ æ‰“å¼€å›¾æ ‡**
3. ç¡®è®¤æ‰“å¼€
4. **é¢„æœŸç»“æœ**ï¼š
   - æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œæ˜¾ç¤ºå½“å‰è¿›åº¦
   - ä¾æ¬¡æ‰“å¼€å¤šä¸ªæ–°çª—å£
   - æ¯ä¸ªçª—å£ä¹‹é—´æœ‰å»¶è¿Ÿï¼ˆé»˜è®¤ 2 ç§’ï¼‰

### æ­¥éª¤ 7ï¼šæµ‹è¯• "all" ç»„

1. æŸ¥çœ‹ **Saved Groups** è§†å›¾
2. **é¢„æœŸç»“æœ**ï¼š
   - çœ‹åˆ° "all" ç»„ï¼ˆè“è‰²æ–‡ä»¶å¤¹å›¾æ ‡ï¼‰
   - æ˜¾ç¤º "9 ä¸ªé¡¹ç›®"
3. ç‚¹å‡» "all" ç»„
4. ç¡®è®¤æ‰“å¼€
5. **é¢„æœŸç»“æœ**ï¼š
   - æ‰“å¼€æ‰€æœ‰ 9 ä¸ªé¡¹ç›®ï¼ˆåˆ†æ‰¹æ‰“å¼€ï¼‰

## ğŸ” æŸ¥çœ‹æ—¥å¿—

å¦‚æœé‡åˆ°é—®é¢˜ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼š

1. æ‰“å¼€ Output é¢æ¿ï¼š`View > Output`
2. é€‰æ‹© **"Extension Host"**
3. æŸ¥æ‰¾ä»¥ä¸‹ä¿¡æ¯ï¼š
   ```
   Dev Container é¡¹ç›®ç»„ç®¡ç†å™¨å·²æ¿€æ´»
   ä» Project Manager åŠ è½½äº† X ä¸ªé¡¹ç›®
   æœ€ç»ˆæ£€æµ‹åˆ° X ä¸ª Dev Container é¡¹ç›®
   ```

## âŒ å¦‚æœé¡¹ç›®åˆ—è¡¨ä»ç„¶ä¸ºç©º

### æ£€æŸ¥ 1ï¼šProject Manager é…ç½®è·¯å¾„

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯é…ç½®æ–‡ä»¶ï¼š

```bash
cat "/Users/bytedance/Library/Application Support/Code/User/globalStorage/alefragnani.project-manager/projects.json" | grep -c "dev-container"
```

**é¢„æœŸè¾“å‡º**ï¼š`9`ï¼ˆè¡¨ç¤ºæœ‰ 9 ä¸ª dev-container é¡¹ç›®ï¼‰

### æ£€æŸ¥ 2ï¼šæŸ¥çœ‹è¯¦ç»†æ—¥å¿—

åœ¨ `src/projectManager.ts` çš„ `loadProjects()` æ–¹æ³•å¼€å¤´æ·»åŠ ï¼š

```typescript
async loadProjects(): Promise<void> {
    console.log('ğŸ” [DEBUG] å¼€å§‹åŠ è½½é¡¹ç›®...');
    this.projects = [];

    const projectManagerProjects = await this.loadFromProjectManager();
    console.log(`ğŸ“¦ [DEBUG] ä» Project Manager åŠ è½½äº† ${projectManagerProjects.length} ä¸ªé¡¹ç›®`);

    for (const project of projectManagerProjects) {
        const isDevContainer = this.isDevContainerProject(project.path);
        console.log(`ğŸ” [DEBUG] ${project.name}: ${isDevContainer ? 'âœ…' : 'âŒ'}`);

        if (isDevContainer) {
            this.projects.push({
                ...project,
                hasDevContainer: true
            });
        }
    }

    console.log(`âœ¨ [DEBUG] æœ€ç»ˆæ£€æµ‹åˆ° ${this.projects.length} ä¸ª Dev Container é¡¹ç›®`);
    this.projects.sort((a, b) => a.name.localeCompare(b.name));
}
```

ç„¶åï¼š
1. ä¿å­˜æ–‡ä»¶
2. è¿è¡Œ `npm run compile`
3. é‡æ–°åŠ è½½æ’ä»¶ï¼ˆCmd+Rï¼‰
4. æŸ¥çœ‹ Output æ—¥å¿—

### æ£€æŸ¥ 3ï¼šæ‰‹åŠ¨éªŒè¯ URI æ ¼å¼

åœ¨æµè§ˆå™¨æ§åˆ¶å°æˆ– Node.js ä¸­æµ‹è¯•ï¼š

```javascript
const testPath = "vscode-remote://dev-container+7b22686f737450617468223a222f686f6d652f78756a696e74616f2e7a65726f2f636f64652f7765622f70726f6a6563742f72656163745f64656d6f31222c226c6f63616c446f636b6572223a66616c73652c22636f6e66696746696c65223a7b22246d6964223a312c2270617468223a222f686f6d652f78756a696e74616f2e7a65726f2f636f64652f7765622f70726f6a6563742f72656163745f64656d6f312f2e646576636f6e7461696e65722f646576636f6e7461696e65722e6a736f6e222c22736368656d65223a227673636f64652d66696c65486f7374227d7d@ssh-remote+7b22686f73744e616d65223a22446576426f78227d/workspaces/react_demo1";

console.log('æ˜¯å¦ä»¥ vscode-remote:// å¼€å¤´:', testPath.startsWith('vscode-remote://'));
console.log('æ˜¯å¦åŒ…å« dev-container+:', testPath.includes('dev-container+'));
console.log('æ˜¯å¦ä¸º Dev Container é¡¹ç›®:', testPath.startsWith('vscode-remote://dev-container+'));
```

**é¢„æœŸè¾“å‡º**ï¼š
```
æ˜¯å¦ä»¥ vscode-remote:// å¼€å¤´: true
æ˜¯å¦åŒ…å« dev-container+: true
æ˜¯å¦ä¸º Dev Container é¡¹ç›®: true
```

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### æµ‹è¯•æ‰“å¼€é€Ÿåº¦

**å°è§„æ¨¡æµ‹è¯•**ï¼ˆ2-3 ä¸ªé¡¹ç›®ï¼‰ï¼š
- é¢„æœŸæ—¶é—´ï¼š10-20 ç§’
- é…ç½®ï¼šé»˜è®¤é…ç½®

**ä¸­è§„æ¨¡æµ‹è¯•**ï¼ˆ4-6 ä¸ªé¡¹ç›®ï¼‰ï¼š
- é¢„æœŸæ—¶é—´ï¼š30-60 ç§’
- é…ç½®ï¼šé»˜è®¤é…ç½®

**å¤§è§„æ¨¡æµ‹è¯•**ï¼ˆ7-9 ä¸ªé¡¹ç›®ï¼‰ï¼š
- é¢„æœŸæ—¶é—´ï¼š60-120 ç§’
- å»ºè®®é…ç½®ï¼š
  ```json
  {
    "devContainerGroups.openDelay": 3000,
    "devContainerGroups.batchSize": 2,
    "devContainerGroups.batchDelay": 15000
  }
  ```

## ğŸ› å·²çŸ¥é—®é¢˜

### é—®é¢˜ 1ï¼šæ‰“å¼€é€Ÿåº¦æ…¢
**åŸå› **ï¼šè¿œç¨‹å®¹å™¨éœ€è¦å¯åŠ¨æ—¶é—´
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ å»¶è¿Ÿé…ç½®
- å‡å°‘æ‰¹æ¬¡å¤§å°
- é¢„å…ˆå¯åŠ¨å¸¸ç”¨å®¹å™¨

### é—®é¢˜ 2ï¼šæŸäº›é¡¹ç›®æ‰“å¼€å¤±è´¥
**å¯èƒ½åŸå› **ï¼š
- å®¹å™¨é…ç½®é”™è¯¯
- ç½‘ç»œé—®é¢˜
- Docker èµ„æºä¸è¶³

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ‰‹åŠ¨æµ‹è¯•å•ä¸ªé¡¹ç›®
- æ£€æŸ¥å®¹å™¨æ—¥å¿—
- å¢åŠ  Docker èµ„æºé™åˆ¶

## âœ… æµ‹è¯•é€šè¿‡æ ‡å‡†

- [ ] é¡¹ç›®åˆ—è¡¨æ˜¾ç¤º 9 ä¸ªé¡¹ç›®
- [ ] å¯ä»¥ç‚¹å‡»åˆ‡æ¢é€‰ä¸­çŠ¶æ€
- [ ] å¯ä»¥ä¿å­˜ä¸ºç»„
- [ ] å¯ä»¥æ‰“å¼€å•ä¸ªé¡¹ç›®
- [ ] å¯ä»¥æ‰¹é‡æ‰“å¼€å¤šä¸ªé¡¹ç›®
- [ ] è¿›åº¦æ¡æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥å–æ¶ˆæ“ä½œ
- [ ] "all" ç»„è‡ªåŠ¨åˆ›å»º
- [ ] ç»„å¯ä»¥åˆ é™¤ï¼ˆé™¤äº† "all"ï¼‰
- [ ] é‡æ–°åŠ è½½åæ•°æ®ä¿æŒ

## ğŸ“ åé¦ˆ

å¦‚æœæµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·è®°å½•ï¼š

1. **é—®é¢˜æè¿°**ï¼šå…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆ
2. **å¤ç°æ­¥éª¤**ï¼šå¦‚ä½•è§¦å‘é—®é¢˜
3. **é¢„æœŸè¡Œä¸º**ï¼šåº”è¯¥å‘ç”Ÿä»€ä¹ˆ
4. **å®é™…è¡Œä¸º**ï¼šå®é™…å‘ç”Ÿäº†ä»€ä¹ˆ
5. **æ—¥å¿—ä¿¡æ¯**ï¼šExtension Host çš„æ—¥å¿—è¾“å‡º
6. **ç¯å¢ƒä¿¡æ¯**ï¼š
   - VS Code ç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ
   - Docker ç‰ˆæœ¬
   - ç½‘ç»œçŠ¶å†µ

---

## ğŸš€ å¼€å§‹æµ‹è¯•

ç°åœ¨è¯·ï¼š

1. **é‡æ–°åŠ è½½æ’ä»¶**ï¼ˆCmd+Rï¼‰
2. **æ‰“å¼€ä¾§è¾¹æ **ï¼ˆç‚¹å‡» Dev Container Groups å›¾æ ‡ï¼‰
3. **æ£€æŸ¥é¡¹ç›®åˆ—è¡¨**ï¼ˆåº”è¯¥çœ‹åˆ° 9 ä¸ªé¡¹ç›®ï¼‰
4. **æµ‹è¯•å„é¡¹åŠŸèƒ½**ï¼ˆæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼‰

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ­å–œï¼æ’ä»¶å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼ğŸ‰

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—è¾“å‡ºï¼Œæˆ‘ä¼šå¸®ä½ ç»§ç»­è°ƒè¯•ã€‚
